// JSON invitaciones
export const invitacionesJSON = [
  {
    title: "Bocar Group – Invitación Digital Interactiva en Viñedos San Lucas",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227606/Bocar-Group-1_ukvg1i.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227606/Bocar-Group-1_ukvg1i.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227607/Bocar-Group-2_g1qgdg.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227607/Bocar-Group-3_oy2yax.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233375/Bocar_Group_Mobile_rn1qp2.mp4",
    description:
      "Invitación digital corporativa para Bocar Group en Viñedos San Lucas, con registro avanzado, agenda interactiva y galería dinámica.",
    event_type: "Evento Corporativo",
    features: [
      "Inicio y cierre de sesión",
      "Formulario de registro con validación en tiempo real",
      "Confirmación personalizada por correo",
      "Agenda interactiva",
      "Carrusel y galería de fotos con infinite scroll",
      "Código de vestimenta",
      "Internacionalización",
      "Links para reservar en calendarios (Google, Outlook, Apple)",
    ],
    link_demo: "https://bacar-group.vercel.app/",
    show_on_carousel: true,
    keywords: [
      "invitación digital corporativa",
      "evento Bocar Group",
      "invitaciones interactivas México",
    ],
  },
  {
    title: "María y José – Invitación Digital de Boda con Animaciones",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227660/Maria-y-Jose-1_bekbgk.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227660/Maria-y-Jose-1_bekbgk.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227661/Maria-y-Jose-2_lfnaaa.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227659/Maria-y-Jose-3_rajibz.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233426/Maria_Y_Jose_Mobile_yrr9bb.mp4",
    description:
      "Invitación digital de boda con animaciones fluidas y experiencia inmersiva para los invitados.",
    event_type: "Boda",
    features: [
      "Animaciones con transiciones suaves",
      "Secciones dinámicas para ceremonia y recepción",
      "Mapa interactivo de ubicación",
      "Confirmación de asistencia online",
    ],
    link_demo: "https://invitacion-boda-maria-y-jose.vercel.app/en/",
    show_on_carousel: true,
    keywords: [
      "invitación digital de boda",
      "animaciones en invitaciones",
      "invitaciones interactivas México",
    ],
  },
  {
    title: "Premios Monarca 2024 – Invitación Digital Corporativa HP & HPE",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227682/Premios-Monarca-1_lsl1ah.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227682/Premios-Monarca-1_lsl1ah.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227684/Premios-Monarca-2_zn3fvn.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227683/Premios-Monarca-3_r6xrvz.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233437/Premios_Monarca_Mobile_cfuhta.mp4",
    description:
      "Invitación digital para los Premios Monarca HP 2024, realizados en conjunto con los Premios Quetzal de HPE en San Miguel de Allende. Incluyó registro interactivo, galería, video memoria, personalización de correos y funcionalidades avanzadas para una experiencia fluida en cualquier dispositivo.",
    event_type: "Evento Corporativo",
    features: [
      "Inicio y cierre de sesión",
      "Contador regresivo para el evento",
      "Formulario de registro con validación en tiempo real (asistencia, nombre, empresa, correo, teléfono, restricción alimenticia)",
      "Confirmación personalizada por correo",
      "Video memoria y galería de la edición pasada",
      "Sección de galardonados",
      "Links para reservar en calendarios (Google, Outlook, Apple)",
      "Diseño responsivo para cualquier dispositivo",
      "Header con autoscroll a secciones",
      "Sección de conductores del evento",
      "Detalles y venue con información completa",
      "Diseño 100% original",
    ],
    link_demo: "https://premiosmonarcahp.com/login",
    show_on_carousel: true,
    keywords: [
      "Premios Monarca 2024",
      "invitación digital HP HPE",
      "evento corporativo México",
      "galería interactiva",
      "registro digital de eventos",
    ],
  },

  {
    title: "Jimena & Canek – Invitación Digital con Experiencia Completa",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227648/Jimena-y-Canek-1_obylsy.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227648/Jimena-y-Canek-1_obylsy.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227648/Jimena-y-Canek-2_vtdbbd.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227647/Jimena-y-Canek-3_itldgr.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233416/Jimena_Y_Canek_Mobile_ehuwef.mp4",
    description:
      "Invitación digital personalizada de boda, con animaciones, validación avanzada y boletos imprimibles.",
    event_type: "Boda",
    features: [
      "Formulario RSVP avanzado con validación",
      "Confirmación automática por correo",
      "Boletos digitales descargables",
      "Animaciones fluidas en toda la experiencia",
      "Galería con fotos de la pareja",
      "Mapa interactivo y código QR",
    ],
    link_demo: "https://boda-jimena-y-canek.vercel.app/",
    show_on_carousel: true,
    keywords: [
      "invitación digital de boda personalizada",
      "boletos digitales boda",
      "RSVP interactivo",
    ],
  },
  {
    title: "Astom – Invitación Digital Empresarial",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227582/Astom-Summit-1_t4ta0t.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227582/Astom-Summit-1_t4ta0t.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227582/Astom-Summit-2_keghol.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227582/Astom-Summit-3_hraafp.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233393/Astom_Summit_Mobile_mcinmf.mp4",
    description:
      "Invitación digital empresarial con diseño sobrio y formulario de registro para asistentes.",
    event_type: "Evento Corporativo",
    features: [
      "Formulario de registro simple y validación",
      "Mapa de ubicación",
      "Sección de agenda con horarios",
      "Confirmación por correo",
    ],
    link_demo: "https://astom.vercel.app/",
    show_on_carousel: false,
    keywords: [
      "invitación digital empresarial",
      "evento corporativo online",
      "registro digital para eventos",
    ],
  },
  {
    title: "Conecton – Invitación Digital Corporativa",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227626/Contecon-1_fggsro.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227626/Contecon-1_fggsro.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227625/Contecon-2_zv26k5.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227626/Contecon-3_s7jwnr.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233405/Contecon_Mobile_gcpkjb.mp4",
    description:
      "Invitación digital corporativa para Conecton, con registro, agenda y secciones interactivas.",
    event_type: "Evento Corporativo",
    features: [
      "Formulario de registro y confirmación",
      "Agenda interactiva",
      "Mapa dinámico",
      "Galería de fotos",
      "Links a calendarios externos",
    ],
    link_demo: "https://conecton.vercel.app/",
    show_on_carousel: false,
    keywords: [
      "invitación digital corporativa",
      "evento Conecton",
      "invitaciones interactivas online",
    ],
  },
  {
    title: "Sofía – Invitación Digital para XV Años",
    thumb:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227699/Sofia-XV-1_omblne.jpg",
    primary_image:
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227699/Sofia-XV-1_omblne.jpg",
    gallery: [
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227701/Sofia-XV-2_phipg1.jpg",
      "https://res.cloudinary.com/dxdysqkbg/image/upload/v1756227698/Sofia-XV-3_rpsdsa.jpg",
    ],
    base_video:
      "https://res.cloudinary.com/dxdysqkbg/video/upload/v1756233449/Sofia_XV_Mobile_ivpc1a.mp4",
    description:
      "Invitación digital para XV Años, con diseño festivo, RSVP interactivo y galería de fotos.",
    event_type: "XV Años",
    features: [
      "Formulario RSVP para invitados",
      "Sección de padrinos y familia",
      "Galería de fotos",
      "Mapa interactivo",
      "Confirmación por correo",
    ],
    link_demo: "https://sofia-next.vercel.app/",
    show_on_carousel: false,
    keywords: [
      "invitación digital XV años",
      "RSVP interactivo quinceañera",
      "galería de fotos en invitación",
    ],
  },
];

const cloudinaryConfig = {
  f_auto: true,
  q_auto: true,
  dpr_auto: true,
  thumb: { w: 500, h: 350, c: "fit" },
  primary_image: { w: 750, h: 550, c: "fill" },
  gallery: { w: 350, h: 310, c: "fit" },
  video: { w: 400, h: 800, c: "fit" },
  format: "f_webp",
};

// Función para construir URL optimizada de imagen
export function buildCloudinaryUrl(baseUrl, options) {
  return baseUrl.replace(
    "/upload/",
    `/upload/f_auto,q_auto,w_${options.w},h_${options.h},dpr_auto,c_${options.c}/${cloudinaryConfig.format}/`
  );
}

// Función para construir URL de video optimizado
export function buildCloudinaryVideoUrl(baseUrl) {
  const base = baseUrl.replace("/video/upload/", "/video/upload/");
  return {
    mp4: `${base}?w=${cloudinaryConfig.video.w}&h=${cloudinaryConfig.video.h},c_${cloudinaryConfig.video.c}`,
    hls:
      base.replace(".mp4", ".m3u8") +
      `?w=${cloudinaryConfig.video.w}&h=${cloudinaryConfig.video.h},c_${cloudinaryConfig.video.c}`,
    poster:
      base.replace("/upload/", "/upload/so_0/") +
      `?w=${cloudinaryConfig.video.w}&h=${cloudinaryConfig.video.h},c_${cloudinaryConfig.video.c}`,
  };
}

// Obtener exclusivamente videos con su poster y URLs optimizadas
export function getVideosFromInvitaciones() {
  return invitacionesJSON
    .filter((inv) => inv.base_video && inv.show_on_carousel)
    .map((inv) => ({
      title: inv.title,
      video: buildCloudinaryVideoUrl(inv.base_video),
      poster: buildCloudinaryVideoUrl(inv.base_video).poster,
      demoUrl: inv.link_demo || "#", // ✅ agregamos demoUrl para TypeScript
    }));
}

// Traer primeras 4 invitaciones con URLs optimizadas
export function getFirstInvitaciones() {
  return invitacionesJSON.slice(0, 4).map((inv) => ({
    title: inv.title,
    description: inv.description,
    event_type: inv.event_type,
    thumb: inv.thumb
      ? buildCloudinaryUrl(inv.thumb, cloudinaryConfig.thumb)
      : undefined,
  }));
}

// Traer invitaciones adicionales para cargar al hacer click en "ver más"
export function getMoreInvitaciones(invitacionesJSON, offset = 4) {
  return invitacionesJSON.slice(offset).map((inv) => ({
    title: inv.title,
    description: inv.description,
    thumb: inv.thumb
      ? buildCloudinaryUrl(inv.thumb, cloudinaryConfig.thumb)
      : undefined,
  }));
}

// Obtener información completa de una invitación para el modal
export function getInvitacionModalData(index) {
  const inv = invitacionesJSON[index];
  if (!inv) return null;
  return {
    title: inv.title,
    description: inv.description,
    features: inv.features,
    gallery: inv.gallery
      ? inv.gallery.map((img) =>
          buildCloudinaryUrl(img, cloudinaryConfig.gallery)
        )
      : [],
    link_demo: inv.link_demo,
    event_type: inv.event_type,
    primary_image: buildCloudinaryUrl(inv.primary_image, cloudinaryConfig.primary_image)
  };
}
