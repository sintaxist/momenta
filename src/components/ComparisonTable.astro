---
import * as Icons from "@/components/ui/Icons.ts";
const packageNames = ["Esencial", "Premium", "Luxury"];

// 1. Centralizamos todas las características en un solo lugar.
//    - `true` significa que tiene la característica (mostrará ✔).
//    - `false` significa que no la tiene (mostrará -).
//    - Un `string` mostrará ese texto específico.
const allFeatures = [
  { feature: "Invitación digital personalizada", esencial: true, premium: true, luxury: true },
  { feature: "RSVP automatizado", esencial: true, premium: true, luxury: true },
  { feature: "Número de invitados", esencial: "Hasta 100", premium: "Hasta 500", luxury: "Ilimitados" },
  { feature: "Galería de fotos", esencial: "Básica", premium: true, luxury: true },
  { feature: "Revisiones de diseño", esencial: "1", premium: "3", luxury: "Ilimitadas" },
  { feature: "Soporte", esencial: "Email", premium: "Prioritario 24/7", luxury: "Consultor dedicado" },
  { feature: "Agenda interactiva", esencial: false, premium: true, luxury: true },
  { feature: "Tickets digitales con QR", esencial: false, premium: true, luxury: true },
  { feature: "Analytics avanzado", esencial: false, premium: true, luxury: true },
  { feature: "Playlist colaborativa", esencial: false, premium: true, luxury: true },
  { feature: "Integración con redes sociales", esencial: false, premium: true, luxury: true },
  { feature: "Diseño 100% personalizado", esencial: false, premium: false, luxury: true },
  { feature: "Múltiples idiomas", esencial: false, premium: false, luxury: true },
  { feature: "Streaming en vivo", esencial: false, premium: false, luxury: true },
  { feature: "Concierge digital", esencial: false, premium: false, luxury: true },
  { feature: "Dashboard administrativo", esencial: false, premium: false, luxury: true },
  { feature: "Implementación", esencial: false, premium: false, luxury: "En 48h" },
];
---

<div class="w-full bg-white/50 backdrop-blur-xl border border-gray-200/50 rounded-2xl shadow-lg overflow-hidden animate-on-scroll">
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left">
      <thead class="bg-[var(--brand-indigo)] text-white font-bold">
        <tr>
          <th class="p-4 lg:p-6 w-1/3 text-base">Características</th>
          {packageNames.map(name => (
            <th class="p-4 lg:p-6 text-center text-base">{name}</th>
          ))}
        </tr>
      </thead>
      <tbody>
        {allFeatures.map((row, index) => (
          <tr class:list={["border-t border-gray-200/80", { 'bg-indigo-50/30': index % 2 !== 0 }]}>
            <td class="font-sora font-medium text-gray-700 p-4 lg:p-6">{row.feature}</td>
            
            <td class="p-4 lg:p-6 text-center">
              {row.esencial === true && <div class="w-6 h-6 mx-auto text-emerald-500"><Fragment set:html={Icons.Check} /></div>}
              {row.esencial === false && <div class="w-6 h-6 mx-auto"><Fragment set:html={Icons.Dash} /></div>}
              {typeof row.esencial === 'string' && <span class="font-sora font-semibold text-gray-800">{row.esencial}</span>}
            </td>

            <td class="p-4 lg:p-6 text-center">
              {row.premium === true && <div class="w-6 h-6 mx-auto text-emerald-500"><Fragment set:html={Icons.Check} /></div>}
              {row.premium === false && <div class="w-6 h-6 mx-auto"><Fragment set:html={Icons.Dash} /></div>}
              {typeof row.premium === 'string' && <span class="font-sora font-semibold text-gray-800">{row.premium}</span>}
            </td>

            <td class="p-4 lg:p-6 text-center">
              {row.luxury === true && <div class="w-6 h-6 mx-auto text-emerald-500"><Fragment set:html={Icons.Check} /></div>}
              {row.luxury === false && <div class="w-6 h-6 mx-auto"><Fragment set:html={Icons.Dash} /></div>}
              {typeof row.luxury === 'string' && <span class="font-sora font-semibold text-gray-800">{row.luxury}</span>}
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
</div>